<modal>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <h2 class="form_heading">Cadastro de Curso</h2>
    <div class="form_control">
      <label for="courseName">Nome do curso</label>
      <input
        type="text"
        id="courseName"
        formControlName="courseName"
        placeholder="Informe o nome do curso"
      />

      @if(submitted && courseName.invalid ){
      <toast type="warn">É necessário informar um nome para o curso</toast>
      }
    </div>

    <custom-select-bussines-areas
      (setValue)="businessAreaId.setValue($event)"
      [submitted]="submitted"
      [invalid]="businessAreaId.invalid"
    />

    <div class="form_group">
      <label>Selecione a nivel de ensino do curso</label>
      <div class="form_control_row">
        <input
          type="radio"
          id="medio"
          name="EducationalLevel"
          (click)="educationalLevel.setValue('Ensino Médio')"
        />
        <label for="medio">Ensino Médio</label>
      </div>
      <div class="form_control_row">
        <input
          type="radio"
          id="livre"
          name="EducationalLevel"
          (click)="educationalLevel.setValue('Livre')"
        />
        <label for="livre">Cursos Livres</label>
      </div>
      <div class="form_control_row">
        <input
          type="radio"
          id="tecnico"
          name="EducationalLevel"
          (click)="educationalLevel.setValue('Técnico')"
        />
        <label for="tecnico">Ensino Técnico</label>
      </div>
      <div class="form_control_row">
        <input
          type="radio"
          id="superior"
          name="EducationalLevel"
          (click)="educationalLevel.setValue('Superior')"
        />
        <label for="superior">Ensino Superior</label>
      </div>

      @if (submitted && educationalLevel.errors?.['required']){
      <toast type="warn">É necessário o nivel do curso</toast>
      }
    </div>

    <div class="form_control">
      <label for="schedule">Carga horaria</label>
      <input
        type="number"
        id="schedule"
        formControlName="schedule"
        placeholder="Informe a carga horaria em horas"
      />

      @if(submitted && schedule.invalid ){
      <toast type="warn">É necessário informar uma carga horaria</toast>
      }
    </div>

    <div class="form_control">
      <label for="monthlyCost">Custo mensal</label>
      <input
        type="number"
        id="monthlyCost"
        formControlName="monthlyCost"
        placeholder="Informe o custo mensal deste curso"
      />

      @if(submitted && monthlyCost.invalid ){
      <toast type="warn">É necessário informar o custo mensal do curso</toast>
      }
    </div>

    <div class="form_control">
      <label for="totalCost">Custo total</label>
      <input
        type="number"
        id="totalCost"
        formControlName="totalCost"
        placeholder="Informe o custo mensal deste curso"
      />

      @if(submitted && totalCost.invalid ){
      <toast type="warn">É necessário informar o custo total do curso</toast>
      }
    </div>

    <button type="submit" [disabled]="disable">Cadastrar</button>
  </form>
</modal>
@if (formStatus == 'success') {
<audio autoplay src="assets/doubleknock.mp3"></audio>
<popup-modal>
  <lucide-icons name="checkCircle2" [size]="40" color="hsl(226, 96%, 60%)" />
  <h3>Sucesso</h3>
  <p>O aluno foi cadastrado com exito</p>
  <button
    style="
      width: 40%;
      background-color: transparent;
      color: hsl(226, 96%, 60%);
      border: 1px solid hsl(226, 96%, 60%);
    "
    (click)="formStatus = 'notSubmitted'"
  >
    voltar
  </button>
</popup-modal>
} @if (formStatus == 'error') {
<audio autoplay src="assets/doubleknock.mp3"></audio>
<popup-modal>
  <lucide-icons name="alertCircle" [size]="40" color="#fa3664" />
  <h3>Algo Aconteceu</h3>
  <p style="max-width: 80%">
    Algo de errado aconteceu! Atualize a pagina e tente novamente
  </p>
  <button
    style="
      width: 40%;
      background-color: transparent;
      color: #fa3664;
      border: 1px solid #fa3664;
    "
    (click)="formStatus = 'notSubmitted'"
  >
    voltar
  </button>
</popup-modal>
}
